<?xml version="1.0" encoding="utf-8"?>
<modification>
	<name>Add information pages not in footer into the header before categories and contact link - OC v2.2</name>
	<version>1.0</version>
	<code>footer-links-to-header</code>
	<author>agatha65.com</author>
	
	<file path="catalog/controller/common/header.php">
		<operation>
			<search><![CDATA[
			$data['categories'] = array();
			]]></search>
			<add position="after"><![CDATA[
			$this->load->language('common/footer');
			$this->load->model('catalog/information');
			//information
			$children_data = array();
			foreach ($this->model_catalog_information->getInformations() as $result) {
			   if (!$result['bottom']) {
					$children_data[] = array(
						'name' => $result['title'],
						'href'  => $this->url->link('information/information', 'information_id=' . $result['information_id'])
					);
				}
			}
			if ( !empty($children_data) ) {
				$data['categories'][] = array(
					'name'     => $this->language->get('text_information'),
					'children' => $children_data,
					'column'   => 1,
					'href'     => 'javascript:void(0);'
				);
			}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[
			$data['cart'] = $this->load->controller('common/cart');
			]]></search>
			<add position="after"><![CDATA[
			//contact
			$data['categories'][] = array(
						'name'     => $this->language->get('text_contact'),
						'children' => '',
						'column'   =>  1,
						'href'     => $this->url->link('information/contact')
					  );
			]]></add>
		</operation>
	</file>
	
	<file path="catalog/view/theme/*/template/common/header.tpl">
		<operation>
			<search><![CDATA[
			<a href="<?php echo $category['href']; ?>" class="see-all"><?php echo $text_all; ?> <?php echo $category['name']; ?></a> </div>
			]]></search>
			<add position="replace"><![CDATA[
			<?php if ( $category['href'] != 'javascript:void(0);' ) { ?>
			  <a href="<?php echo $category['href']; ?>" class="see-all"><?php echo $text_all; ?> <?php echo $category['name']; ?></a> </div>
			<?php } ?>
			]]></add>
		</operation>
	</file>
</modification>